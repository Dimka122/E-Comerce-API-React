{'role': 'assistant', 'content': '\nI need to fix the remaining Grid usages. Let me fix the Products page:\n\n<function_calls>\n<str-replace file_path="online-store-frontend/src/pages/Products.tsx">\n  <old_str>          <Grid container spacing={4}>\n            {products.map((product) => (\n              <Grid item key={product.id} xs={12} sm={6} md={4} lg={3}>\n                <Card\n                  sx={{\n                    height: \'100%\',\n                    display: \'flex\',\n                    flexDirection: \'column\',\n                    transition: \'transform 0.2s, box-shadow 0.2s\',\n                    \'&:hover\': {\n                      transform: \'translateY(-4px)\',\n                      boxShadow: 4,\n                    },\n                  }}\n                >\n                  <CardMedia\n                    component="img"\n                    height="200"\n                    image={product.imageUrl || `https://picsum.photos/seed/${product.id}/400/300.jpg`}\n                    alt={product.name}\n                    sx={{ objectFit: \'cover\' }}\n                  />\n                  <CardContent sx={{ flexGrow: 1 }}>\n                    <Typography variant="h6" component="h3" gutterBottom>\n                      {product.name}\n                    </Typography>\n                    <Typography variant="body2" color="text.secondary" sx={{ mb: 2 }}>\n                      {product.description.length > 80\n                        ? `${product.description.substring(0, 80)}...`\n                        : product.description}\n                    </Typography>\n                    {formatPrice(product.price, product.salePrice)}\n                    <Box sx={{ display: \'flex\', alignItems: \'center\', mt: 1 }}>\n                      <Typography variant="body2" color="text.secondary">\n                        ⭐ {product.averageRating.toFixed(1)}\n                      </Typography>\n                      <Typography variant="body2" color="text.secondary" sx={{ ml: 2 }}>\n                        ({product.reviews.length} отзывов)\n                      </Typography>\n                    </Box>\n                  </CardContent>\n                  <CardActions sx={{ p: 2, pt: 0 }}>\n                    <Button\n                      size="small"\n                      color="primary"\n                      onClick={() => handleProductClick(product.id)}\n                    >\n                      Подробнее\n                    </Button>\n                    <Button\n                      size="small"\n                      color="secondary"\n                      startIcon={<ShoppingCart />}\n                      onClick={() => handleAddToCart(product.id)}\n                      disabled={addingToCart === product.id || product.stockQuantity === 0}\n                    >\n                      {addingToCart === product.id ? \'Добавление...\' : \'В корзину\'}\n                    </Button>\n                  </CardActions>\n                </Card>\n              </Grid>\n            ))}\n          </Grid></old_str>\n  <new_str>          <Box sx={{ \n            display: \'grid\', \n            gridTemplateColumns: { xs: \'1fr\', sm: \'repeat(2, 1fr)\', md: \'repeat(3, 1fr)\', lg: \'repeat(4, 1fr)\' },\n            gap: 3 \n          }}>\n            {products.map((product) => (\n              <Card\n                key={product.id}\n                sx={{\n                  height: \'100%\',\n                  display: \'flex\',\n                  flexDirection: \'column\',\n                  transition: \'transform 0.2s, box-shadow 0.2s\',\n                  \'&:hover\': {\n                    transform: \'translateY(-4px)\',\n                    boxShadow: 4,\n                  },\n                }}\n              >\n                <CardMedia\n                  component="img"\n                  height="200"\n                  image={product.imageUrl || `https://picsum.photos/seed/${product.id}/400/300.jpg`}\n                  alt={product.name}\n                  sx={{ objectFit: \'cover\' }}\n                />\n                <CardContent sx={{ flexGrow: 1 }}>\n                  <Typography variant="h6" component="h3" gutterBottom>\n                    {product.name}\n                  </Typography>\n                  <Typography variant="body2" color="text.secondary" sx={{ mb: 2 }}>\n                    {product.description.length > 80\n                      ? `${product.description.substring(0, 80)}...`\n                      : product.description}\n                  </Typography>\n                  {formatPrice(product.price, product.salePrice)}\n                  <Box sx={{ display: \'flex\', alignItems: \'center\', mt: 1 }}>\n                    <Typography variant="body2" color="text.secondary">\n                      ⭐ {product.averageRating.toFixed(1)}\n                    </Typography>\n                    <Typography variant="body2" color="text.secondary" sx={{ ml: 2 }}>\n                      ({product.reviews.length} отзывов)\n                    </Typography>\n                  </Box>\n                </CardContent>\n                <CardActions sx={{ p: 2, pt: 0 }}>\n                  <Button\n                    size="small"\n                    color="primary"\n                    onClick={() => handleProductClick(product.id)}\n                  >\n                    Подробнее\n                  </Button>\n                  <Button\n                    size="small"\n                    color="secondary"\n                    startIcon={<ShoppingCart />}\n                    onClick={() => handleAddToCart(product.id)}\n                    disabled={addingToCart === product.id || product.stockQuantity === 0}\n                  >\n                    {addingToCart === product.id ? \'Добавление...\' : \'В корзину\'}\n                  </Button>\n                </CardActions>\n              </Card>\n            ))}\n          </Box></new_str>\n</str-replace>\n</function_calls>'}